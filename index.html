<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pure css Circle Progress</title>

  <link rel="stylesheet" href="./style.css">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>

  $(document).ready(function() {
  const val1 = [];
  const val2 = [];
  const val3 = [];
  const val4 = [];

  $.get("datos.csv", function(data) {
    const filas = data.split('\n');
    filas.forEach((fila) => {
      const celdas = fila.split(',');
      val1.push(celdas[0]);
      val2.push(celdas[1]);
      val3.push(celdas[2]);
      val4.push(celdas[3]);
    });

    console.log(`Valor actual: ${val1[0]}`)
    console.log(`Valor actual: ${val2[0]}`)
    console.log(`Valor actual: ${val3[0]}`)
    console.log(`Valor actual: ${val4[0]}`)

    const cards = document.querySelectorAll('.card');
    cards[0].setAttribute('data-porcentaje', val1[0]);
    cards[1].setAttribute('data-porcentaje', val2[0]);
    cards[2].setAttribute('data-porcentaje', val3[0]);
    cards[3].setAttribute('data-porcentaje', val4[0]);
    cards.forEach((card) => {
      const porcentaje = card.getAttribute('data-porcentaje');
      card.style.setProperty('--porcentaje', porcentaje);
      const h2 = document.createElement('h2');
      h2.textContent = porcentaje + '%';
      card.querySelector('.number').innerHTML = '';
      card.querySelector('.number').appendChild(h2);
      const text = card.querySelector('.text');
      if (porcentaje >= 70) {
        text.style.color = '#00ff43';
        h2.style.color = '#00ff43';
        card.classList.add('greater-than-70');
      } else if (porcentaje >=50) {
        text.style.color = 'yellow';
        h2.style.color = 'yellow';
        card.classList.add('greater-than-50');
      } else if (porcentaje >= 30) {
        text.style.color = 'orange';
        h2.style.color = 'orange';
        card.classList.add('greater-than-30');
      } else {
        text.style.color = 'red';
        h2.style.color = 'red';
        card.classList.add('greater-than-0');
      }
      });
    });
  });


  </script>
  
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="card" data-porcentaje="30">
        <div class="box">
          <div class="percent">
            <svg>
              <circle cx="70" cy="70" r="70"></circle>
              <circle cx="70" cy="70" r="70"></circle>
            </svg>
            <div class="number">
              
            </div>
          </div>
          <h2 class="text">Exploradora</h2>
        </div>
      </div>
      <div class="card" data-porcentaje="50">
        <div class="box">
          <div class="percent">
            <svg>
              <circle cx="70" cy="70" r="70"></circle>
              <circle cx="70" cy="70" r="70"></circle>
            </svg>
            <div class="number">
              
            </div>
          </div>
          <h2 class="text">Emprendedora</h2>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="card" data-porcentaje="20">
        <div class="box">
          <div class="percent">
            <svg>
              <circle cx="70" cy="70" r="70"></circle>
              <circle cx="70" cy="70" r="70"></circle>
            </svg>
            <div class="number">
            </div>
          </div>
          <h2 class="text">Diplom√°tica</h2>
        </div>
      </div>
    
    
      <div class="card" data-porcentaje="10">
        <div class="box">
          <div class="percent">
            <svg>
              <circle cx="70" cy="70" r="70"></circle>
              <circle cx="70" cy="70" r="70"></circle>
            </svg>
            <div class="number">
            </div>
          </div>
          <h2 class="text">Ninja</h2>
        </div>
      </div>
    </div>
  </div>



 
</body>
</html>
